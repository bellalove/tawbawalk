module.exports=function(){"use strict";return function(e){function t(e,t){var n=new Image,l=e.getAttribute("data-src");n.onload=function(){e.parent?e.parent.replaceChild(n,e):e.src=l,t?t():null},n.src=l}function n(t){var n=t.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.top<=(e.innerHeight||document.documentElement.clientHeight)}for(var l=function(e,t){if(document.querySelectorAll)t=document.querySelectorAll(e);else{var n=document,l=n.styleSheets[0]||n.createStyleSheet();l.addRule(e,"f:b");for(var r=n.all,o=0,c=[],u=r.length;u>o;o++)r[o].currentStyle.f&&c.push(r[o]);l.removeRule(0),t=c}return t},r=function(t,n){e.addEventListener?this.addEventListener(t,n,!1):e.attachEvent?this.attachEvent("on"+t,n):this["on"+t]=n},o=new Array,c=l("img.lazy"),u=function(){for(var e=0;e<o.length;e++)n(o[e])&&t(o[e],function(){o.splice(e,e)})},i=0;i<c.length;i++)o.push(c[i]);u(),r("scroll",u)}.call(this),{}}.call("undefined"!=typeof global?global:this);